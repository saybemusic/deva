<nav class="navbar navbar-expand-md custom-navbar">
  <div class="container-fluid">

    <!-- Logo -->
    <div class="deva-logo-scroll theme-light">
      DEV <span class="scroll-A">A</span>
    </div>

    <!-- Hamburger -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Right content -->
    <div class="collapse navbar-collapse" id="mainNav">
      <ul class="navbar-nav me-auto ms-3">
        <% if user_signed_in? %>
          <li class="nav-item">
            <%= link_to "Home", root_path, class: "nav-link" %>
          </li>
          <li class="nav-item">
            <%= link_to "Messages", chats_path, class: "nav-link" %>
          </li>
        <% end %>
      </ul>

      <!-- Theme toggle -->
      <div data-controller="theme">
        <button
          id="theme-toggle"
          data-theme-target="button"
          data-action="click->theme#toggle"
          class="theme-toggle">
          Light
        </button>
      </div>


      <!-- Avatar -->
      <% if user_signed_in? %>
        <div class="dropdown">
          <a href="#" class="avatar" id="navbarDropdown" data-bs-toggle="dropdown">
            <%= image_tag "avatar.svg", class: "avatar" %>
          </a>
          <div class="dropdown-menu dropdown-menu-end">
            <%= link_to "Profil", "#", class: "dropdown-item" %>
            <%= link_to "Paramètres", "#", class: "dropdown-item" %>
            <%= link_to "Se déconnecter", destroy_user_session_path, data: { turbo_method: :delete }, class: "dropdown-item" %>
          </div>
        </div>
      <% else %>
        <%= link_to "Login", new_user_session_path, class: "btn btn-primary" %>
      <% end %>
    </div>
  </div>
</nav>
